const addon = require("bindings")("CallsDesktopInterop");
const { screen } = require('electron');

function getWindowPositionAndDimensions()  {
	const x = this.getWindowXPosition();
	const y = this.getWindowYPosition();
	const width = this.getWindowWidth();
	const height = this.getWindowHeight();

	if (!x || !y || !width || !height) {
		return;
	}

	const rectangle = {
		x,
		y,
		width,
		height,
	};

	if (process.platform === 'win32') {
		// Convert virtual screen coordinates to scaled DIP coordinates.
		return screen.screenToDipRect(null, rectangle);
	}

	return rectangle
}


addon.WindowBorderPanel.prototype.getWindowPositionAndDimensions = getWindowPositionAndDimensions;

module.exports = {
	WindowBorderPanel: addon.WindowBorderPanel,
};
